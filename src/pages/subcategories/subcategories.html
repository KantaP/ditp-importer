<!--
  Generated template for the Subcategories page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons start>
      <button ion-button icon-only color="light" (tap)="back()">
        <ion-icon name="arrow-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>PRODUCT INFORMATION</ion-title>
  </ion-toolbar> 

</ion-header>
<ion-content class="bg">
<div class="row-flex" style="flex-wrap:wrap;margin-top:5px;" *ngFor="let product of products">
  <div class="row-flex barCategory" style="flex-wrap:wrap;" style="justify-content:space-between" >
    <span>{{product.Category}}</span>
    <i class="fa fa-angle-down fa-2x"></i>
  </div>
  <div class="row-flex full-width" style="margin-top:0px;flex-wrap:wrap;" *ngFor="let sub of product.subItems">
    <div class="radio-block"> 
        <div class="row-flex" style="width:85%;justify-content:flex-start">
          <input type="checkbox" [attr.id]="sub.pro_id" [value]="sub.pro_id" [checked]="onSelected(sub.pro_id)" [name]="sub.pro_name" #input (change)="addSelected(input)"/>
          <div class="check"></div>
          <label [attr.for]="sub.pro_id">{{sub.pro_name}} </label>
        </div>
        <div class="row-flex" style="width:15%" *ngIf="sub.count_sub_items > 0" (tap)="loadSubCategories(sub.pro_id)">
          <i class="fa fa-2x" [ngClass]="{'fa-angle-down': sub.pro_items , 'fa-angle-right': !sub.pro_items}"></i>
        </div>
    </div>
     <div class="row-flex" style="flex-wrap:wrap;" *ngIf="sub.pro_items"> 
      <div class="radio-sub-block"  *ngFor="let item of sub.pro_items.subItems">
        <div class="row-flex" style="width:85%;justify-content:flex-start">
            <input type="checkbox" [attr.id]="item.pro_id" [value]="item.pro_id" [name]="item.pro_name" #input (tap)="addSelected(input)"/>
            <div class="check"></div>
            <label [attr.for]="item.pro_id">{{item.pro_name}} </label>
          </div>
          <div class="row-flex" style="width:15%" *ngIf="item.count_sub_items > 0" (tap)="loadSubCategories(item.pro_id)">
            <i class="fa fa-2x" [ngClass]="{'fa-angle-down': item.pro_items , 'fa-angle-right': !item.pro_items}"></i>
          </div>
      </div>
    </div>
  </div>
</div>
</ion-content>